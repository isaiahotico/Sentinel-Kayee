<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentinel KRo Earning App</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    
    <!-- Include Telegram Login Widget Script -->
    <script async src="https://telegram.org/js/telegram-widget.js?22"></script>
</head>
<body>

    <!-- TOP LEFT: Coin Display -->
    <div id="coin-display-container" class="top-left-widget">
        <span id="coin-balance">0.00</span> PESO
    </div>

    <!-- TOP RIGHT: Profile and Action Buttons -->
    <div id="top-right-widgets">
        
        <!-- Activity Room Link -->
        <a id="activity-room-link" href="activity.html" style="display:none;">
            <button class="action-button">ACTIVITY REWARD ROOM</button>
        </a>

        <!-- Ads Room Button -->
        <button id="ads-room-button" class="action-button" style="display: none;">
            Daily Ads Room Reward
        </button>
        
        <!-- Profile Container (Initially Hidden, shown after Telegram login) -->
        <div id="profile-container" style="display: none;">
            <img id="profile-avatar" src="default-avatar.png" alt="User Avatar">
            <span id="telegram-username">@loading...</span>
        </div>
    </div>

    <!-- MAIN CONTENT AREA -->
    <div id="app-content">
        <!-- Telegram Login Widget -->
        <div id="telegram-login-widget" class="login-center">
            <h2>Log in with Telegram to start earning:</h2>
            <script type="text/javascript">
                // IMPORTANT: Replace 'Sentinel_KRo_earning_bot' with your actual bot username.
                // data-onauth calls the JavaScript function TelegramLoginWidgetCallback defined in app.js
                document.write(
                    '<script data-telegram-login="Sentinel_KRo_earning_bot" data-size="large" data-userpic="false" data-onauth="TelegramLoginWidgetCallback(user)"></' + 'script>'
                );
            </script>
        </div>
    </div>

    <!-- Ads Room Modal (Hidden by default) -->
    <div id="ads-room-modal" class="modal">
        <div class="modal-content">
            <h2>Daily Ads Room</h2>
            <p>Watch the ads below to earn 0.01 PESO each (5s view time).</p>
            <div id="ad-slots-container">
                <!-- Ad slots will be populated here by app.js -->
            </div>
            <button id="close-modal-button" class="close-button">Close</button>
        </div>
    </div>

    <!-- Link to the main application logic -->
    <script src="app.js" type="module"></script>
</body>
</html>
