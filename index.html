<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sentinel KRo Earning App</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
</head>
<body>
  <!-- TOP LEFT: Coin Display -->
  <div id="coin-display-container" class="top-left-widget">
    <span id="coin-balance">0.00</span> PESO
  </div>

  <!-- TOP RIGHT: Buttons + Profile -->
  <div id="top-right-widgets">
    <a id="activity-room-link" href="#" style="display:none;"><button class="action-button">ACTIVITY REWARD ROOM</button></a>
    <a id="referral-room-link" href="#" style="display:none;"><button class="action-button">REFERRAL ROOM</button></a>
    <button id="ads-room-button" class="action-button" style="display:none;">Daily Ads Room Reward</button>
    <div id="profile-container" style="display:none;">
      <span id="user-id-display">ID</span>
    </div>
  </div>

  <!-- VIEWS (Single Page App) -->
  <main id="view-main" class="view">
    <div class="page-container">
      <header class="page-header">
        <h1>Sentinel KRo Earning App</h1>
        <div id="main-balance" class="header-balance">0.00 PESO</div>
      </header>
      <main>
        <p>Welcome — a permanent local id has been assigned to you. Use the buttons at the top-right to access rooms.</p>
        <ul>
          <li>Daily Ads Room — 0.01 PESO per ad, 2-hour cooldown.</li>
          <li>Activity Reward Room — each button shows 2 interstitials; reward 0.02 PESO; 5-minute cooldown per button.</li>
          <li>Referral Room — share your link; 10% referral gains are applied upon withdrawal (server-side logic expected).</li>
        </ul>
      </main>
    </div>
  </main>

  <section id="view-ads-room" class="view" style="display:none;">
    <div class="page-container">
      <header class="page-header">
        <a href="#" class="back-link" id="back-from-ads">← Back</a>
        <h1>Daily Ads Room</h1>
        <div id="ads-header-balance" class="header-balance">0.00 PESO</div>
      </header>
      <main class="activity-main">
        <p>Watch the ads below (5s) to earn 0.01 PESO each. 2-hour cooldown per ad.</p>
        <div id="ad-slots-container" class="activity-buttons"></div>
      </main>
    </div>
  </section>

  <section id="view-activity" class="view" style="display:none;">
    <div class="page-container">
      <header class="page-header">
        <a href="#" class="back-link" id="back-from-activity">← Back</a>
        <h1>Activity Reward Room</h1>
        <div id="activity-header-balance" class="header-balance">0.00 PESO</div>
      </header>
      <main class="activity-main">
        <p>Each button shows 2 interstitial ads sequentially. Complete both to earn 0.02 PESO. Per-button cooldown: 5 minutes.</p>
        <div id="activity-buttons" class="activity-buttons"></div>
      </main>
    </div>
  </section>

  <section id="view-referral" class="view" style="display:none;">
    <div class="page-container">
      <header class="page-header">
        <a href="#" class="back-link" id="back-from-referral">← Back</a>
        <h1>Referral Room</h1>
        <div id="referral-header-balance" class="header-balance">0.00 PESO</div>
      </header>
      <main class="activity-main">
        <h2>Your Referral Link</h2>
        <div class="referral-box">
          <input type="text" id="referral-link-input" readonly value="Loading Link..." />
          <button id="copy-link-button" class="action-button">Copy Link</button>
        </div>
        <div class="referral-stats">
          <h3>Referral Statistics</h3>
          <p>Total Referrals: <span id="total-referrals">0</span></p>
          <p>Pending Referral Earnings: <span id="pending-earnings">0.00 PESO</span></p>
          <p class="note">You earn 10% of your referral's withdrawal amount (applied by backend upon withdrawal).</p>
        </div>
      </main>
    </div>
  </section>

  <script type="module" src="app.js"></script>
</body>
</html>
